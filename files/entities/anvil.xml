<Entity name="mymod_anvil">

  <PhysicsBodyComponent 
    uid="1" 
    allow_sleep="1" 
    angular_damping="0" 
    fixed_rotation="1" 
    is_bullet="0" 
    linear_damping="0"
    auto_clean="0"
    on_death_leave_physics_body="1"
    >
  </PhysicsBodyComponent>

  <PhysicsImageShapeComponent 
    body_id="1"
    centered="1"
    image_file="mods/mymod/files/anvil_visuals.png"
    material="templebrick_static"
    >
  </PhysicsImageShapeComponent>

  <ParticleEmitterComponent 
		_enabled="0"
    _tags="emitter1"
		emitted_material_name="spark"
		gravity.y="0.0"
		lifetime_min="0.5"
		lifetime_max="1"
		count_min="1"
		count_max="1"
		render_on_grid="1"
		fade_based_on_lifetime="1"
		area_circle_radius.min="0"
		area_circle_radius.max="0"
		cosmetic_force_create="1"
    collide_with_grid="0"
		emission_interval_min_frames="1"
		emission_interval_max_frames="3"
		emit_cosmetic_particles="1"
		image_animation_file="mods/mymod/files/runes1.png"
		image_animation_speed="5"
		image_animation_loop="1"
		render_back="1"
		is_emitting="1"
		>
	</ParticleEmitterComponent>

  <ParticleEmitterComponent 
		_enabled="0"
    _tags="emitter2"
		emitted_material_name="spark"
		gravity.y="0.0"
		lifetime_min="0.5"
		lifetime_max="1"
		count_min="1"
		count_max="1"
		render_on_grid="1"
		fade_based_on_lifetime="1"
		area_circle_radius.min="0"
		area_circle_radius.max="0"
		cosmetic_force_create="1"
    collide_with_grid="0"
		emission_interval_min_frames="1"
		emission_interval_max_frames="3"
		emit_cosmetic_particles="1"
		image_animation_file="mods/mymod/files/runes2.png"
		image_animation_speed="5"
		image_animation_loop="1"
		render_back="1"
		is_emitting="1"
		>
	</ParticleEmitterComponent>

  <!-- Holy sparkles -->
  <Entity>
		<InheritTransformComponent>
			<Transform 
				position.x="5"
				position.y="-50" 
				>
			</Transform>
		</InheritTransformComponent>

    <ParticleEmitterComponent 
      emitted_material_name="spark_white_bright"
      x_pos_offset_min="-100"
      x_pos_offset_max="100"
      y_pos_offset_min="-20"
      y_pos_offset_max="100"
      x_vel_min="-1"
      x_vel_max="1"
      y_vel_min="0"
      y_vel_max="1"
      gravity.y="10"
      lifetime_min="2"
      lifetime_max="5"
      count_min="1"
      count_max="1"
      render_on_grid="1"
      collide_with_grid="0"
      fade_based_on_lifetime="1"
      cosmetic_force_create="1"
      emit_cosmetic_particles="1"
      airflow_force="0"
      airflow_time="0"
      airflow_scale="0"
      emission_interval_min_frames="1"
      emission_interval_max_frames="1"
      is_emitting="1" >
    </ParticleEmitterComponent>
  </Entity>

<!--   <AudioLoopComponent 
    _enabled="1" 
    auto_play="1" 
    auto_play_if_enabled="1"
    file="mods/mymod/fmod/Build/Desktop/my_mod_audio.snd" 
    event_name="snd_mod/high_drone" 
    calculate_material_lowpass="0" 
    volume_autofade_speed="0.5"
    >
  </AudioLoopComponent> -->

	<AudioLoopComponent 
		_enabled="1" 
		auto_play="1" 
		calculate_material_lowpass="0" 
    file="mods/mymod/fmod/Build/Desktop/my_mod_audio.snd" 
    event_name="snd_mod/high_drone" 
    >
	</AudioLoopComponent>

  <CollisionTriggerComponent
    width="78"
    height="60" 
    required_tag="wand"
    destroy_this_entity_when_triggered="0"
    >
  </CollisionTriggerComponent>

  <LuaComponent
    script_collision_trigger_hit="mods/mymod/files/anvil_trigger.lua"
    execute_every_n_frame="-1"
    >
  </LuaComponent>

</Entity>
